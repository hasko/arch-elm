<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Simple Archimate Assistant</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <h1>Simple Archimate Assistant</h1>
      <p>This is a work in progress. No guarantees whatsoever are made. All the data you load will only be stored locally in your browser. None of it is transferred to an external server. However, if you are concerned about your browser security, you should not load confidential data.</p>
    </header>
    <main>
      <div id="main"></div>
    </main>
    <script src="main.js"></script>
    <script>
      var storedState = localStorage.getItem('archi-model');
      var startingState = storedState ? JSON.parse(storedState) : null;
      var app = Elm.Main.init({ node: document.getElementById("main"), flags: startingState });
      app.ports.storeModel.subscribe(function(model) {
        if (model.length > 0) {
          localStorage.setItem("archi-model", model);
        }
      });
    </script>
  </body>
</html>
